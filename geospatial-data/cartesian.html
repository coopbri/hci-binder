<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <title>D3 Geodetic</title>

    <!-- load D3 -->
    <script src="https://rawcdn.githack.com/coopbri/hci-binder/362464110b5273593e9fdd1dc1c0ae3e4f1da224/lib/d3.min.js"></script>

    <!-- global styles -->
    <style>
      body   { font-family: helvetica, sans-serif;
               -moz-user-select: none;
               -webkit-user-select: none;
               -ms-user-select: none;
               user-select: none; }
    </style>
  </head>

  <body>
    <script>
      var body = d3.select("body");
      var svg = body.append("svg")
        .attr("width", 600).attr("height", 500);
      var img = svg.append("image")
        .attr("href", "https://rawcdn.githack.com/coopbri/hci-binder/98bd90d69e4ca99e4ced078126a0a346da479683/geospatial-data/gd-image-5.png");
      var point = 0;

      svg.on("click", function() {
        var x = d3.event.x;
        var y = d3.event.y;

        // point (-4,6)
        if (x > 139 && x < 159) {
          if (y > 64 && y < 84) {
            svg.append("ellipse")
              .attr("cx", 142)
              .attr("cy", 68)
              .attr("rx", 8)
              .attr("ry", 8)
              .attr("fill", "yellow")

            point++;
            check();
          }
        }

        // point (0,5)
        if (x > 265 && x < 285) {
          if (y > 97 && y < 117) {
            svg.append("ellipse")
              .attr("cx", 268)
              .attr("cy", 99)
              .attr("rx", 8)
              .attr("ry", 8)
              .attr("fill", "yellow")

            point++;
            check();
          }
        }

        // point (3,-2)
        if (x > 360 && x < 380) {
          if (y > 315 && y < 335) {
            svg.append("ellipse")
              .attr("cx", 363)
              .attr("cy", 319)
              .attr("rx", 8)
              .attr("ry", 8)
              .attr("fill", "yellow")

            point++;
            check();
          }
        }
      });

      function check() {
        console.log(point);

        if (point >= 3) {
          console.log("Nice!");
        }
      }
    </script>
  </body>
</html>
